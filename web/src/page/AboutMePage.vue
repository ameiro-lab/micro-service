<template>
<v-container fluid>
  <v-row align="stretch" justify="start">
    <!-- ãƒ—ãƒ­ãƒ•ã‚£ãƒ¼ãƒ«ã‚«ãƒ¼ãƒ‰ -->
    <v-col cols="12" md="7">
      <v-card class="pa-3" color="base" style="height: 100%;">
        <v-row align="center" no-gutters class="pb-4 mb-4">
          <v-col cols="auto">
            <v-avatar size="80" class="shadow-4">
              <img src="https://github.com/ameiro-lab.png" alt="Your Avatar" class="fit-image" />
            </v-avatar>
          </v-col>
          <v-col class="pl-4">
            <div class="text-h5 font-weight-bold">xxx xxx</div>
            <div class="text-body-2 text-grey">Web Engineer / Since 2022</div>
          </v-col>
        </v-row>
        <!-- è‡ªå·±ç´¹ä»‹ -->
        <section class="mb-6">
          <v-card-title>Profile</v-card-title>
          <v-card-text>
            <p>æ±äº¬ã‚’æ‹ ç‚¹ã«æ´»å‹•ã—ã¦ã„ã‚‹Webã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã§ã™ã€‚</p>
            <p>ç¤¾ä¼šäººã¨ã—ã¦ã®ç¬¬ä¸€æ­©ã¯äº‹å‹™è·ã§ã—ãŸãŒã€ãƒ¢ãƒã¥ãã‚Šã¸ã®èˆˆå‘³ã‹ã‚‰2022å¹´ã«Javaã‚’å­¦ã³å§‹ã‚ã¾ã—ãŸã€‚
            ç¾åœ¨ã®æ‹…å½“ã¯ã€æ¥­å‹™ã‚·ã‚¹ãƒ†ãƒ ã®ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™ºã§ã™ã€‚æ¥­å‹™ã‚·ã‚¹ãƒ†ãƒ ã¨ã„ãˆã°ã€åŠ¹ç‡ã‚„æ©Ÿèƒ½ã‚’é‡è¦–ã™ã‚‹ã“ã¨ãŒå¤šã„ä¸€æ–¹ã§ã€ãã®ã‚ˆã†ãªä¸­ã§ã‚‚UIã‚„ã‚¢ãƒ‹ãƒ¡ãƒ¼ã‚·ãƒ§ãƒ³ã«éŠã³å¿ƒã‚’åŠ ãˆã‚‹ã“ã¨ã‚’å¤§åˆ‡ã«ã—ã¦ã„ã¾ã™ã€‚
            ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒæ—¥ã€…ä½¿ã†ãŸã³ã«æ˜ã‚‹ã„æ°—æŒã¡ã«ãªã‚‹ã‚ˆã†ãªã€ãƒ¦ãƒ‹ãƒ¼ã‚¯ãªææ¡ˆãŒã§ãã‚‹ã‚¨ãƒ³ã‚¸ãƒ‹ã‚¢ã‚’ç›®æŒ‡ã—ã¦ã„ã¾ã™ã€‚</p>
          </v-card-text>
        </section>
      </v-card>
    </v-col>

    <!-- ãƒ¬ãƒ¼ãƒ€ãƒ¼ãƒãƒ£ãƒ¼ãƒˆã‚«ãƒ¼ãƒ‰ -->
    <v-col cols="12" md="5">
      <v-card
        class="pa-3"
        style="height: 100%;"
        @mouseenter="isRadarHovered = true"
        @mouseleave="isRadarHovered = false">
        <template v-if="!isRadarHovered">
          <Radar :data="data" :options="options" />
        </template>
        <template v-else>
          <v-card-title>
            My Skillset
          </v-card-title>
          <v-card-text>
            <div v-for="(item, index) in stackList" :key="index">
              <v-row no-gutters>
                <v-col cols="12" class="mb-1">
                  <strong>{{ item.label }}</strong>:ã€€{{ getDescription(item.label) }}
                </v-col>
              </v-row>
            </div>
          </v-card-text>
        </template>
      </v-card>
    </v-col>

    <!-- è³‡æ ¼ -->
    <v-col cols="12" md="12">
      <v-card class="pa-3">
        <v-card-title class="text-h6 mb-2">
          Qualification
        </v-card-title>
        <div
            v-for="item in qualificationList" :key="item.name"
            class="d-flex flex-column">
            <v-row class="mb-2" no-gutters>
              <v-col cols="12">
                <v-chip class="w-100" color="primary" text-color="white">
                  {{ item.name }}
                </v-chip>
              </v-col>
            </v-row>
          </div>
      </v-card>
    </v-col>

    <!-- çµŒæ­´ -->
    <v-col cols="12" md="12">
      <v-card class="pa-3">
      <v-card-title class="text-h6 mb-2">
        Projects
      </v-card-title>
      <v-timeline align="start" side="end" line-color="primary">
      <v-timeline-item
        v-for="(project, index) in projectList"
        :key="index"
        :dot-color="'primary'"
        :icon="'mdi-briefcase-outline'">
        <template #opposite>
          <div class="text-caption text-grey-darken-1">{{ project.period }}</div>
        </template>

        <v-card elevation="2" class="pa-4">
          <v-card-title class="text-h6">{{ project.title }}</v-card-title>
          <v-card-subtitle class="text-subtitle-2">
            {{ project.client }} â€” {{ project.role }}
          </v-card-subtitle>
          <v-card-text class="mt-2">
            <p>{{ project.description }}</p>
            <v-chip-group column class="mt-3" tag="div">
              <v-chip
                v-for="(tech, i) in project.techList"
                :key="i"
                class="ma-1"
                size="small"
                color="primary"
                variant="outlined"
              >
                {{ tech }}
              </v-chip>
            </v-chip-group>
          </v-card-text>
        </v-card>
      </v-timeline-item>
    </v-timeline>
      <!-- 
      ãƒ‘ãƒ‰ãƒ«ã‚’ä½¿ã£ãŸå ´åˆ
      <v-expansion-panels multiple>
        <v-expansion-panel
          v-for="(project, index) in projectList"
          :key="index"
        >
          <v-expansion-panel-title>
            {{ project.title }}
          </v-expansion-panel-title>
          <v-expansion-panel-text>
            <p><strong>ğŸ“… Period:</strong> {{ project.period }}</p>
            <p v-if="project.client"><strong>ğŸ¢ Client:</strong> {{ project.client }}</p>
            <p><strong>ğŸ‘¨â€ğŸ’» Role:</strong> {{ project.role }}</p>
            <p class="mt-2">{{ project.description }}</p>
            <p class="mt-2"><strong>Tech Stack:</strong></p>
            <v-chip-group column>
              <v-chip
                v-for="(tech, i) in project.techList"
                :key="i"
                class="ma-1"
                size="small">
                {{ tech }}
              </v-chip>
            </v-chip-group>
          </v-expansion-panel-text>
        </v-expansion-panel>
      </v-expansion-panels> -->


    </v-card>
    </v-col>
  </v-row>
</v-container>

<!-- ã‚­ãƒ£ãƒ©ã‚¯ã‚¿ãƒ¼ -->
<v-row dense>
  <v-spacer></v-spacer>
  <v-col cols="4" class="d-none d-md-flex justify-end align-end">
    <div style="width: 200px; height: auto;">
      <BasicOsuwari @on-click="onclickBasicOsuwari" />
    </div>
  </v-col>
</v-row>

<div style="width: 200px; height: auto;">
  <VectorTest />
</div>
  
</template>

<script setup>
import { ref, computed } from 'vue'
import { useDisplay } from 'vuetify'
import BasicOsuwari from '@/component/thing/BasicOsuwari.vue'
import VectorTest from '@/component/thing/VectorTest.vue'

// Vuetifyã®ç”»é¢ã‚µã‚¤ã‚ºæƒ…å ±ã‚’å–å¾—ï¼ˆuseDisplayã¯VuetifyãŒæä¾›ã™ã‚‹Composableï¼‰
const { mobile } = useDisplay()

// å…±é€šãƒ‡ãƒ¼ã‚¿
const md = 6;
const titleClass = 'text-h5 font-weight-bold'
const textClass = 'text-body-1'

const isRadarHovered = ref(false)  // ãƒ›ãƒãƒ¼çŠ¶æ…‹ã‚’ç®¡ç†

import {
  Chart as ChartJS,
  RadialLinearScale,
  PointElement,
  LineElement,
  Filler,
  Tooltip,
  Legend
} from 'chart.js'
import { Radar } from 'vue-chartjs'

ChartJS.register(
  RadialLinearScale,
  PointElement,
  LineElement,
  Filler,
  Tooltip,
  Legend
)

/** Chart.js */
// ã‚¹ã‚¿ãƒƒã‚¯ãƒªã‚¹ãƒˆ
const stackList = [
  { label: 'Frontend', text: 'Vue.js(JS/TS), HTML/CSS', value: 82 },
  { label: 'Architecture', text: 'DDD, Clean Architecture', value: 28 },
  { label: 'Infrastructure', text: 'Docker, AWSÃ—', value: 32 },
  { label: 'Database', text: 'PostgreSQL', value: 42 },
  { label: 'Backend', text: 'SpringBoot(Java), Golang, Node.js(JS/TS)', value: 56 },
  { label: 'Testing', text: 'JUnit, JestÃ—', value: 52 },
  { label: 'Productivity', text: 'Git, VSCode, Eclipse', value: 60 },
];
// è¡¨ç¤ºã™ã‚‹ãƒ‡ãƒ¼ã‚¿
const data = {
  labels: stackList.map(item => item.label),
  datasets: [
    {
      label: 'Tech Stack',
      // backgroundColor: 'rgba(255, 205, 86, 0.2)',          // ã‚„ã•ã—ã„é»„è‰²ã®é€æ˜å¡—ã‚Š
      // borderColor: 'rgba(255, 205, 86, 1)',                // ç·šã¯æ˜ã‚‹ãå¼•ãç· ã‚ã‚‹é»„è‰²
      // pointBackgroundColor: 'rgba(255, 205, 86, 1)',       // å„ç‚¹ã‚‚åŒã˜é»„è‰²ã§çµ±ä¸€æ„Ÿ
      // pointBorderColor: '#fff',                            // ç™½ã§éš›ç«‹ãŸã›ã‚‹
      // pointHoverBackgroundColor: '#fff',                   // ãƒ›ãƒãƒ¼æ™‚ã¯ç™½ã§ãµã‚“ã‚ã‚Š
      // pointHoverBorderColor: 'rgba(255, 205, 86, 1)',      // ãƒ›ãƒãƒ¼å¤–æ ã¯é»„è‰²ã§æ˜ã‚‹ã
      backgroundColor: 'rgba(218, 165, 105, 0.2)',          // èƒŒæ™¯ã¯éº¦è‰²ã‚’ã‚¤ãƒ¡ãƒ¼ã‚¸ã—ãŸæ·¡ã„èŒ¶è‰²
      borderColor: 'rgba(218, 165, 105, 1)',                // æ ç·šã‚‚åŒç³»è‰²ã§è½ã¡ç€ãã®ã‚ã‚‹å°è±¡ã«
      pointBackgroundColor: 'rgba(218, 165, 105, 1)',       // ç‚¹ã‚‚åŒã˜ã‚«ãƒ©ãƒ¼ã§çµ±ä¸€æ„Ÿ
      pointBorderColor: '#fff',                             // ç™½ã„æ ã§ãã£ãã‚Šæ„Ÿã‚’ãƒ—ãƒ©ã‚¹
      pointHoverBackgroundColor: '#fff',                    // ãƒ›ãƒãƒ¼æ™‚ã¯ç™½ã§ã‚„ã‚ã‚‰ã‹ã
      pointHoverBorderColor: 'rgba(218, 165, 105, 1)',      // ãƒ›ãƒãƒ¼å¤–æ ã¯åŒã˜è‰²ã§çµ±ä¸€
      data: stackList.map(item => item.value),
    },
  ]
}

// ã‚ªãƒ—ã‚·ãƒ§ãƒ³è¨­å®šï¼ˆå¿…è¦ã«å¿œã˜ã¦ã‚«ã‚¹ã‚¿ãƒã‚¤ã‚ºï¼‰
const options = {
  responsive: true,
  maintainAspectRatio: false,
  scales: {
    r: {
      min: 0,
      max: 100,
      ticks: {
        stepSize: 20, // ãŠå¥½ã¿ã§èª¿æ•´å¯èƒ½ï¼ˆ10, 25 ãªã©ã‚‚OKï¼‰
        color: 'grey' // æ•°å€¤ã®è‰²
      },
      grid: {
        // color: 'orange',
      },
      pointLabels: {
        color: 'black', // é …ç›®ãƒ†ã‚­ã‚¹ãƒˆã®è‰²
      },
    },
  },
  // ãƒ„ãƒ¼ãƒ«ãƒãƒƒãƒ—ã®è¨­å®š
  plugins: {
    tooltip: {
      callbacks: {
        label: function (context) {
          const label = context.label;
          const match = stackList.find(item => item.label === label);
          return match ? `${match.text}` : label;
        },
      },
      backgroundColor: 'rgba(255, 255, 255, 0.9)', // èƒŒæ™¯è‰²ï¼ˆä»»æ„ï¼‰
      titleColor: '#000',  // ã‚¿ã‚¤ãƒˆãƒ«ã®è‰²
      bodyColor: '#333',   // æœ¬æ–‡ã®è‰²
      borderColor: '#ccc', // æ ç·šã®è‰²
      borderWidth: 1,
      titleFont: { weight: 'bold' }, // ãƒ•ã‚©ãƒ³ãƒˆå¤ªã•ãªã©ã‚‚è¨­å®šå¯èƒ½
    },
  },
}

// è³‡æ ¼ãƒªã‚¹ãƒˆ
const qualificationList = [
  { name: 'Oracle Certified Java Programmer, Silver SE 1', date: '2024å¹´4æœˆ' },
  { name: 'ç§˜æ›¸æŠ€èƒ½æ¤œå®šæº–ï¼‘ç´š', date: '2017å¹´2æœˆ' },
  { name: 'ãƒ“ã‚¸ãƒã‚¹èƒ½åŠ›æ¤œå®š3ç´š', date: '2017å¹´2æœˆ' }
];

// ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆãƒªã‚¹ãƒˆï¼ˆSESï¼‰
const projectList = [
  {
    title: 'Product Test Management System',
    period: 'Jul 2024 - now',
    client: 'Semiconductor Manufacturing Company',
    role: 'Group Member (Full-Stack Developer)',
    description: 'Developing a web application to streamline product testing and improve data traceability.',
    techList: [
      'Java (JDK21)',
      'Spring Boot (3.3.2)',
      'MyBatis',
      'PostgreSQL',
      'Vue.js',
      'JavaScript (Vuetify)',
      'Node.js',
      'Docker',
      'Git'
    ]
  },
  {
    title: 'Batch Operation Management System',
    period: 'May 2023 - Jun 2024',
    client: 'Securities Company',
    role: 'Group Member (Full-Stack Developer)',
    description: 'Developed a portal system to replace Excel-based batch operation management in a test environment, improving efficiency and reducing costs.',
    techList: [
      'Java (JDK8)',
      'Spring Boot',
      'Spring Data JPA',
      'Oracle',
      'Vue.js',
      'React',
      'JavaScript (Vuetify, Material UI)',
      'AWS',
      'Jenkins',
      'Git'
    ]
  },
  {
    title: 'Learning Management System (LMS)',
    period: 'Nov 2022 - Apr 2023',
    client: 'Educational Institution',
    role: 'Group Member (Backend Developer)',
    description: 'Developed a learning management system to support e-learning, focusing on backend performance and system architecture.',
    techList: [
      'Java',
      'Spring',
      'MyBatis',
      'PostgreSQL',
      'AWS (CodeCommit)',
      'Thymeleaf',
      'Git'
    ]
  }
];


/** ãƒªã‚¢ã‚¯ãƒ†ã‚£ãƒ–ãƒ‡ãƒ¼ã‚¿ã®å®šç¾© */

/** ãƒ¡ã‚½ãƒƒãƒ‰ã®å®šç¾© */
const onclickBasicOsuwari = () => {
  console.log('Osuwari clicked!')
}

// labelã«å¿œã˜ãŸæ—¥æœ¬èªã®è§£èª¬æ–‡ã‚’è¿”ã™ãƒ¡ã‚½ãƒƒãƒ‰
function getDescription(label) {
  switch (label) {
    case 'Frontend':
      return 'ãƒ•ãƒ­ãƒ³ãƒˆã‚¨ãƒ³ãƒ‰é–‹ç™º';
    case 'Architecture':
      return 'ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆ';
    case 'Infrastructure':
      return 'ã‚¤ãƒ³ãƒ•ãƒ©æ§‹ç¯‰';
    case 'Database':
      return 'ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹è¨­è¨ˆãƒ»é‹ç”¨';
    case 'Backend':
      return 'ãƒãƒƒã‚¯ã‚¨ãƒ³ãƒ‰é–‹ç™º';
    case 'Testing':
      return 'ãƒ†ã‚¹ãƒˆè‡ªå‹•åŒ–';
    case 'Productivity':
      return 'ç”Ÿç”£æ€§å‘ä¸Šãƒ„ãƒ¼ãƒ«';
    default:
      return '';
  }
}

</script>

<style>
.fit-image {
  width: 100%;
  height: 100%;
  object-fit: cover; /* ã‚¢ã‚¹ãƒšã‚¯ãƒˆæ¯”ã‚’ä¿ã¡ã¤ã¤ã€æ ã«ãƒ”ãƒƒã‚¿ãƒª */
}
</style>